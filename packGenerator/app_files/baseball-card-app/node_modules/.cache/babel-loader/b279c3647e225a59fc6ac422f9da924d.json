{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\natha\\\\PracticeFolder\\\\react_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\natha\\\\PracticeFolder\\\\react_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\natha\\\\PracticeFolder\\\\react_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\natha\\\\PracticeFolder\\\\react_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./SearchPage.css';import PersonIcon from'@material-ui/icons/Person';import SportsBaseballIcon from'@material-ui/icons/SportsBaseball';import SearchBlock from'./SearchBlock';import{withRouter}from\"react-router-dom\";var SearchPage=/*#__PURE__*/function(_Component){_inherits(SearchPage,_Component);var _super=_createSuper(SearchPage);function SearchPage(){var _this;_classCallCheck(this,SearchPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:null,users:true,query:null,haveresults:false,results:[]};_this.searchHandler=function(event){_this.setState({query:event.target.value});};_this.handleToggle=function(){_this.setState({users:!_this.state.users});};_this.searchgo=function(){var searchapiUrl='http://localhost:5000/api/searchuser/?query='+_this.state.query;fetch(searchapiUrl).then(function(response){return response.json();}).then(function(data){_this.setState({results:data.results});_this.setState({haveresults:true});});};_this.renderSearchResults=function(results){return results.map(_this.createsearchresult);};_this.createsearchresult=function(result){return/*#__PURE__*/React.createElement(SearchBlock,{click:_this.userClickHandler,className:\"result\",username:result[0],cards:result[1],key:result[0]});};_this.userClickHandler=function(username){_this.props.collClick(username);_this.props.history.push(\"/collection\");};return _this;}_createClass(SearchPage,[{key:\"render\",value:function render(){var togglebutton;var placeholder;var searchresults;if(this.state.haveresults){searchresults=this.renderSearchResults(this.state.results);}if(this.state.users){togglebutton=/*#__PURE__*/React.createElement(\"div\",{onClick:this.handleToggle},\"Users \",/*#__PURE__*/React.createElement(PersonIcon,null));placeholder=\"Search for Users...\";}else{togglebutton=/*#__PURE__*/React.createElement(\"div\",{onClick:this.handleToggle},\"Cards \",/*#__PURE__*/React.createElement(SportsBaseballIcon,null));placeholder=\"Search for Cards...\";}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"fullsearch\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"searchheader\"},\"Search packGenerator\"),/*#__PURE__*/React.createElement(\"div\",{className:\"togglediv\"},/*#__PURE__*/React.createElement(\"span\",null,\"Search for:  \"),/*#__PURE__*/React.createElement(\"div\",{className:\"searchbutton\"},/*#__PURE__*/React.createElement(\"button\",null,togglebutton))),/*#__PURE__*/React.createElement(\"form\",{className:\"form1\",id:\"searchform\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"inputsearch\",id:\"addInput\",placeholder:placeholder,onChange:this.searchHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"gobutton\",onClick:this.searchgo},/*#__PURE__*/React.createElement(\"button\",null,\"SEARCH\"))),searchresults);}}]);return SearchPage;}(Component);;export default withRouter(SearchPage);","map":{"version":3,"sources":["C:/Users/natha/PracticeFolder/react_app/src/components/SearchPage/SearchPage.js"],"names":["React","Component","PersonIcon","SportsBaseballIcon","SearchBlock","withRouter","SearchPage","state","search","users","query","haveresults","results","searchHandler","event","setState","target","value","handleToggle","searchgo","searchapiUrl","fetch","then","response","json","data","renderSearchResults","map","createsearchresult","result","userClickHandler","username","props","collClick","history","push","togglebutton","placeholder","searchresults"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './SearchPage.css';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport SportsBaseballIcon from '@material-ui/icons/SportsBaseball';\r\nimport SearchBlock from './SearchBlock';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass SearchPage extends Component {\r\n    state = {\r\n        search: null,\r\n        users: true,\r\n        query: null,\r\n        haveresults: false,\r\n        results: []\r\n    }\r\n    searchHandler = (event) => {\r\n        this.setState({ query: event.target.value })\r\n    }\r\n    handleToggle = () => {\r\n        this.setState({ users: !this.state.users })\r\n    }\r\n    searchgo = () => {\r\n        const searchapiUrl = 'http://localhost:5000/api/searchuser/?query=' + this.state.query\r\n        fetch(searchapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({results: data.results})\r\n            this.setState({haveresults: true})\r\n        })\r\n    }\r\n    renderSearchResults = (results) => {\r\n        return results.map(this.createsearchresult)\r\n    }\r\n    createsearchresult = (result) => {\r\n        return <SearchBlock click = {this.userClickHandler} className = \"result\" username = {result[0]} cards = {result[1]} key = {result[0]}/>\r\n    }\r\n    userClickHandler = (username) => {\r\n        this.props.collClick(username)\r\n        this.props.history.push(\"/collection\")\r\n    }\r\n    render() {\r\n        let togglebutton;\r\n        let placeholder;\r\n        let searchresults;\r\n        if (this.state.haveresults) {\r\n            searchresults = this.renderSearchResults(this.state.results)\r\n        }\r\n        if (this.state.users) {\r\n            togglebutton = <div onClick={this.handleToggle}>Users <PersonIcon /></div>\r\n            placeholder = \"Search for Users...\"\r\n        }\r\n        else {\r\n            togglebutton = <div onClick={this.handleToggle}>Cards <SportsBaseballIcon /></div>\r\n            placeholder = \"Search for Cards...\"\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"fullsearch\">\r\n                    <h1 className=\"searchheader\">Search packGenerator</h1>\r\n                    <div className=\"togglediv\">\r\n                        <span>Search for:  </span>\r\n                        <div className=\"searchbutton\"><button>{togglebutton}</button></div>\r\n                    </div>\r\n                    <form className=\"form1\" id=\"searchform\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"inputsearch\"\r\n                            id=\"addInput\"\r\n                            placeholder={placeholder}\r\n                            onChange={this.searchHandler}\r\n                        />\r\n                    </form>\r\n                    <div className=\"gobutton\" onClick = {this.searchgo}><button>SEARCH</button></div>\r\n                </div>\r\n                {searchresults}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default withRouter(SearchPage);"]},"metadata":{},"sourceType":"module"}