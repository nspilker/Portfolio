{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natha\\\\PracticeFolder\\\\react_app\\\\src\\\\components\\\\CollectionPage\\\\CollectionPage.js\";\nimport React, { Component } from 'react';\nimport Image from './Image';\nimport './CollectionPage.css';\nimport Larrow from '@material-ui/icons/ArrowLeft';\nimport Rarrow from '@material-ui/icons/ArrowRight';\nimport LLarrow from '@material-ui/icons/ArrowBackIos';\nimport RRarrow from '@material-ui/icons/ArrowForwardIos';\nimport BackDrop from '../Backdrop/Backdrop';\nimport ReactCardFlip from 'react-card-flip';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\n\nclass CollectionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createImage = image => {\n      return /*#__PURE__*/React.createElement(Image, {\n        source: process.env.PUBLIC_URL + '/CardImages/Fronts/' + image[0],\n        key: image[2],\n        name: image[1],\n        display: this.display,\n        pic: image[0],\n        id: image[2],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 16\n        }\n      });\n    };\n\n    this.createImages = collection => {\n      return collection.map(this.createImage);\n    };\n\n    this.display = (source, cardtext, pic, index) => {\n      if (this.state.isMounted) {\n        this.setState({\n          display: true\n        });\n        this.setState({\n          displayimg: source\n        });\n        this.setState({\n          name: cardtext\n        });\n        this.setState({\n          picture: pic\n        });\n        this.setState({\n          id: index\n        });\n        this.setState({\n          removed: false\n        });\n      }\n    };\n\n    this.handleLastPage = () => {\n      if (this.state.currentpage < this.state.pages) {\n        this.setState({\n          currentpage: this.state.pages\n        });\n        this.updateCards(this.state.pages);\n      }\n    };\n\n    this.handleNextPage = () => {\n      if (this.state.currentpage < this.state.pages) {\n        this.setState({\n          currentpage: this.state.currentpage + 1\n        });\n        this.updateCards(this.state.currentpage + 1);\n      }\n    };\n\n    this.handleFirstPage = () => {\n      if (this.state.currentpage > 1) {\n        this.setState({\n          currentpage: 1\n        });\n        this.updateCards(1);\n      }\n    };\n\n    this.handlePreviousPage = () => {\n      if (this.state.currentpage > 1) {\n        this.setState({\n          currentpage: this.state.currentpage - 1\n        });\n        this.updateCards(this.state.currentpage - 1);\n      }\n    };\n\n    this.backdropClickHandler = () => {\n      this.setState({\n        display: false\n      });\n      this.setState({\n        flipped: false\n      });\n      this.setState({\n        removed: false\n      });\n    };\n\n    this.handleCardClick = () => {\n      this.setState({\n        flipped: !this.state.flipped\n      });\n    };\n\n    this.handleRemove = () => {\n      const removeapiUrl = 'http://localhost:5000/removecard/?username=' + this.props.username + '&index=' + this.state.id;\n      this.setState({\n        removed: true\n      });\n      fetch(removeapiUrl).then(response => response.json()).then(data => {\n        this.updateCardtotal();\n        this.updatePagetotal();\n        this.updateCards(this.state.currentpage);\n      });\n    };\n\n    this.updateCards = page => {\n      const cardapiUrl = 'http://localhost:5000/getpage/?username=' + this.props.username + '&page=' + page;\n      fetch(cardapiUrl).then(response => response.json()).then(data => {\n        this.setState({\n          collection: data.collection\n        });\n      });\n    };\n\n    this.updateCardtotal = () => {\n      const cardsapiUrl = 'http://localhost:5000/gettotalcards/?username=' + this.props.username;\n      fetch(cardsapiUrl).then(response => response.json()).then(data => {\n        this.setState({\n          totalcards: data.total\n        });\n      });\n    };\n\n    this.updatePagetotal = () => {\n      const pageapiUrl = 'http://localhost:5000/pages/?username=' + this.props.username;\n      fetch(pageapiUrl).then(response => response.json()).then(data => {\n        this.setState({\n          pages: data.pages\n        });\n      });\n    };\n\n    this.state = {\n      collection: [[\"placeholder.png\", \"This is a placeholder\", 0]],\n      currentpage: 1,\n      pages: 1,\n      totalcards: 0,\n      display: false,\n      displayimg: null,\n      name: null,\n      isMounted: false,\n      flipped: false,\n      picture: null,\n      id: null,\n      removed: false\n    };\n  }\n\n  componentDidMount() {\n    const pageapiUrl = 'http://localhost:5000/pages/?username=' + this.props.username;\n    fetch(pageapiUrl).then(response => response.json()).then(data => {\n      this.setState({\n        pages: data.pages\n      });\n    });\n    const cardsapiUrl = 'http://localhost:5000/gettotalcards/?username=' + this.props.username;\n    fetch(cardsapiUrl).then(response => response.json()).then(data => {\n      this.setState({\n        totalcards: data.total\n      });\n    });\n    this.updateCards(1);\n    this.setState({\n      isMounted: true\n    });\n  }\n\n  render() {\n    let removebutton;\n    let displaycard;\n    let favbutton;\n\n    if (this.props.myuser === this.props.username) {\n      if (this.state.removed) {\n        removebutton = /*#__PURE__*/React.createElement(\"button\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 32\n          }\n        }, \"Removed\");\n      } else {\n        removebutton = /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.handleRemove,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 32\n          }\n        }, /*#__PURE__*/React.createElement(CancelIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 68\n          }\n        }), \"   Remove from collection\");\n      }\n\n      favbutton = /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(StarBorderIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 33\n        }\n      }), \"   Make favorite\");\n    }\n\n    if (this.state.display) {\n      displaycard = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"display_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"display_\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bd\",\n        onClick: this.backdropClickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(BackDrop, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 81\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"goldborder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card_lattice\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card_flip\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(ReactCardFlip, {\n        isFlipped: this.state.flipped,\n        flipDirection: \"vertical\",\n        className: \"card_flip_obj\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        onClick: this.handleCardClick,\n        src: this.state.displayimg,\n        className: \"card_img\",\n        alt: \"front\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        onClick: this.handleCardClick,\n        src: process.env.PUBLIC_URL + '/CardImages/Backs/' + this.state.picture,\n        className: \"card_img\",\n        alt: \"back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 45\n        }\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 37\n        }\n      }, this.state.name)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buttondiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"b1c\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 29\n        }\n      }, favbutton)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"buttondiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"b2c\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }\n      }, removebutton))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collection_background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, displaycard, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 41\n      }\n    }, this.props.username, \"'s Collection\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 40\n      }\n    }, \"Total cards: \", this.state.totalcards)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav_style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(LLarrow, {\n      className: \"outerleft\",\n      onClick: this.handleFirstPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Larrow, {\n      className: \"inner\",\n      fontSize: \"large\",\n      onClick: this.handlePreviousPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, this.state.currentpage), /*#__PURE__*/React.createElement(Rarrow, {\n      className: \"inner\",\n      fontSize: \"large\",\n      onClick: this.handleNextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RRarrow, {\n      className: \"outer\",\n      onClick: this.handleLastPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"imageblock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, this.createImages(this.state.collection)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav_style_bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(LLarrow, {\n      className: \"outerleft\",\n      onClick: this.handleFirstPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Larrow, {\n      className: \"inner\",\n      fontSize: \"large\",\n      onClick: this.handlePreviousPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, this.state.currentpage), /*#__PURE__*/React.createElement(Rarrow, {\n      className: \"inner\",\n      fontSize: \"large\",\n      onClick: this.handleNextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RRarrow, {\n      className: \"outer\",\n      onClick: this.handleLastPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\n;\nexport default CollectionPage;","map":{"version":3,"sources":["C:/Users/natha/PracticeFolder/react_app/src/components/CollectionPage/CollectionPage.js"],"names":["React","Component","Image","Larrow","Rarrow","LLarrow","RRarrow","BackDrop","ReactCardFlip","CancelIcon","StarBorderIcon","CollectionPage","constructor","props","createImage","image","process","env","PUBLIC_URL","display","createImages","collection","map","source","cardtext","pic","index","state","isMounted","setState","displayimg","name","picture","id","removed","handleLastPage","currentpage","pages","updateCards","handleNextPage","handleFirstPage","handlePreviousPage","backdropClickHandler","flipped","handleCardClick","handleRemove","removeapiUrl","username","fetch","then","response","json","data","updateCardtotal","updatePagetotal","page","cardapiUrl","cardsapiUrl","totalcards","total","pageapiUrl","componentDidMount","render","removebutton","displaycard","favbutton","myuser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAO,sBAAP;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,OAAP,MAAoB,oCAApB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;;AAEA,MAAMC,cAAN,SAA6BV,SAA7B,CAAuC;AACnCW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgCnBC,WAhCmB,GAgCJC,KAAD,IAAW;AACrB,0BAAO,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,qBAAzB,GAAiDH,KAAK,CAAC,CAAD,CAArE;AAA0E,QAAA,GAAG,EAAEA,KAAK,CAAC,CAAD,CAApF;AAAyF,QAAA,IAAI,EAAEA,KAAK,CAAC,CAAD,CAApG;AAAyG,QAAA,OAAO,EAAE,KAAKI,OAAvH;AAAgI,QAAA,GAAG,EAAEJ,KAAK,CAAC,CAAD,CAA1I;AAA+I,QAAA,EAAE,EAAEA,KAAK,CAAC,CAAD,CAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAlCkB;;AAAA,SAoCnBK,YApCmB,GAoCHC,UAAD,IAAgB;AAC3B,aAAOA,UAAU,CAACC,GAAX,CAAe,KAAKR,WAApB,CAAP;AACH,KAtCkB;;AAAA,SAuCnBK,OAvCmB,GAuCT,CAACI,MAAD,EAASC,QAAT,EAAmBC,GAAnB,EAAwBC,KAAxB,KAAkC;AACxC,UAAI,KAAKC,KAAL,CAAWC,SAAf,EAA0B;AACtB,aAAKC,QAAL,CAAc;AAAEV,UAAAA,OAAO,EAAE;AAAX,SAAd;AACA,aAAKU,QAAL,CAAc;AAAEC,UAAAA,UAAU,EAAEP;AAAd,SAAd;AACA,aAAKM,QAAL,CAAc;AAAEE,UAAAA,IAAI,EAAEP;AAAR,SAAd;AACA,aAAKK,QAAL,CAAc;AAAEG,UAAAA,OAAO,EAAEP;AAAX,SAAd;AACA,aAAKI,QAAL,CAAc;AAAEI,UAAAA,EAAE,EAAEP;AAAN,SAAd;AACA,aAAKG,QAAL,CAAc;AAAEK,UAAAA,OAAO,EAAE;AAAX,SAAd;AACH;AACJ,KAhDkB;;AAAA,SAiDnBC,cAjDmB,GAiDF,MAAM;AACnB,UAAI,KAAKR,KAAL,CAAWS,WAAX,GAAyB,KAAKT,KAAL,CAAWU,KAAxC,EAA+C;AAC3C,aAAKR,QAAL,CAAc;AAAEO,UAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWU;AAA1B,SAAd;AACA,aAAKC,WAAL,CAAiB,KAAKX,KAAL,CAAWU,KAA5B;AACH;AACJ,KAtDkB;;AAAA,SAuDnBE,cAvDmB,GAuDF,MAAM;AACnB,UAAI,KAAKZ,KAAL,CAAWS,WAAX,GAAyB,KAAKT,KAAL,CAAWU,KAAxC,EAA+C;AAC3C,aAAKR,QAAL,CAAc;AAAEO,UAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWS,WAAX,GAAyB;AAAxC,SAAd;AACA,aAAKE,WAAL,CAAiB,KAAKX,KAAL,CAAWS,WAAX,GAAyB,CAA1C;AACH;AACJ,KA5DkB;;AAAA,SA6DnBI,eA7DmB,GA6DD,MAAM;AACpB,UAAI,KAAKb,KAAL,CAAWS,WAAX,GAAyB,CAA7B,EAAgC;AAC5B,aAAKP,QAAL,CAAc;AAAEO,UAAAA,WAAW,EAAE;AAAf,SAAd;AACA,aAAKE,WAAL,CAAiB,CAAjB;AACH;AACJ,KAlEkB;;AAAA,SAmEnBG,kBAnEmB,GAmEE,MAAM;AACvB,UAAI,KAAKd,KAAL,CAAWS,WAAX,GAAyB,CAA7B,EAAgC;AAC5B,aAAKP,QAAL,CAAc;AAAEO,UAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWS,WAAX,GAAyB;AAAxC,SAAd;AACA,aAAKE,WAAL,CAAiB,KAAKX,KAAL,CAAWS,WAAX,GAAyB,CAA1C;AACH;AACJ,KAxEkB;;AAAA,SAyEnBM,oBAzEmB,GAyEI,MAAM;AACzB,WAAKb,QAAL,CAAc;AAAEV,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKU,QAAL,CAAc;AAAEc,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKd,QAAL,CAAc;AAAEK,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH,KA7EkB;;AAAA,SA8EnBU,eA9EmB,GA8ED,MAAM;AACpB,WAAKf,QAAL,CAAc;AAAEc,QAAAA,OAAO,EAAE,CAAC,KAAKhB,KAAL,CAAWgB;AAAvB,OAAd;AACH,KAhFkB;;AAAA,SAiFnBE,YAjFmB,GAiFJ,MAAM;AACjB,YAAMC,YAAY,GAAG,gDAAgD,KAAKjC,KAAL,CAAWkC,QAA3D,GAAsE,SAAtE,GAAkF,KAAKpB,KAAL,CAAWM,EAAlH;AACA,WAAKJ,QAAL,CAAc;AAACK,QAAAA,OAAO,EAAE;AAAV,OAAd;AACAc,MAAAA,KAAK,CAACF,YAAD,CAAL,CAAoBG,IAApB,CAA0BC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAAvC,EAAwDF,IAAxD,CAA8DG,IAAD,IAAU;AACnE,aAAKC,eAAL;AACA,aAAKC,eAAL;AACA,aAAKhB,WAAL,CAAiB,KAAKX,KAAL,CAAWS,WAA5B;AACH,OAJD;AAKH,KAzFkB;;AAAA,SA0FnBE,WA1FmB,GA0FJiB,IAAD,IAAU;AACpB,YAAMC,UAAU,GAAG,6CAA6C,KAAK3C,KAAL,CAAWkC,QAAxD,GAAmE,QAAnE,GAA8EQ,IAAjG;AACAP,MAAAA,KAAK,CAACQ,UAAD,CAAL,CAAkBP,IAAlB,CAAwBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAArC,EAAsDF,IAAtD,CAA4DG,IAAD,IAAU;AACjE,aAAKvB,QAAL,CAAc;AAAER,UAAAA,UAAU,EAAE+B,IAAI,CAAC/B;AAAnB,SAAd;AACH,OAFD;AAGH,KA/FkB;;AAAA,SAgGnBgC,eAhGmB,GAgGD,MAAM;AACpB,YAAMI,WAAW,GAAG,mDAAmD,KAAK5C,KAAL,CAAWkC,QAAlF;AACAC,MAAAA,KAAK,CAACS,WAAD,CAAL,CAAmBR,IAAnB,CAAyBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAAtC,EAAuDF,IAAvD,CAA6DG,IAAD,IAAU;AAClE,aAAKvB,QAAL,CAAc;AAAE6B,UAAAA,UAAU,EAAEN,IAAI,CAACO;AAAnB,SAAd;AACH,OAFD;AAGH,KArGkB;;AAAA,SAsGnBL,eAtGmB,GAsGD,MAAM;AACpB,YAAMM,UAAU,GAAG,2CAA2C,KAAK/C,KAAL,CAAWkC,QAAzE;AACAC,MAAAA,KAAK,CAACY,UAAD,CAAL,CAAkBX,IAAlB,CAAwBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAArC,EAAsDF,IAAtD,CAA4DG,IAAD,IAAU;AACjE,aAAKvB,QAAL,CAAc;AAAEQ,UAAAA,KAAK,EAAEe,IAAI,CAACf;AAAd,SAAd;AACH,OAFD;AAGH,KA3GkB;;AAEf,SAAKV,KAAL,GAAa;AACTN,MAAAA,UAAU,EAAE,CAAC,CAAC,iBAAD,EAAoB,uBAApB,EAA6C,CAA7C,CAAD,CADH;AAETe,MAAAA,WAAW,EAAE,CAFJ;AAGTC,MAAAA,KAAK,EAAE,CAHE;AAITqB,MAAAA,UAAU,EAAE,CAJH;AAKTvC,MAAAA,OAAO,EAAE,KALA;AAMTW,MAAAA,UAAU,EAAE,IANH;AAOTC,MAAAA,IAAI,EAAE,IAPG;AAQTH,MAAAA,SAAS,EAAE,KARF;AASTe,MAAAA,OAAO,EAAE,KATA;AAUTX,MAAAA,OAAO,EAAE,IAVA;AAWTC,MAAAA,EAAE,EAAE,IAXK;AAYTC,MAAAA,OAAO,EAAE;AAZA,KAAb;AAcH;;AAED2B,EAAAA,iBAAiB,GAAG;AAChB,UAAMD,UAAU,GAAG,2CAA2C,KAAK/C,KAAL,CAAWkC,QAAzE;AAEAC,IAAAA,KAAK,CAACY,UAAD,CAAL,CAAkBX,IAAlB,CAAwBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAArC,EAAsDF,IAAtD,CAA4DG,IAAD,IAAU;AACjE,WAAKvB,QAAL,CAAc;AAAEQ,QAAAA,KAAK,EAAEe,IAAI,CAACf;AAAd,OAAd;AACH,KAFD;AAGA,UAAMoB,WAAW,GAAG,mDAAmD,KAAK5C,KAAL,CAAWkC,QAAlF;AACAC,IAAAA,KAAK,CAACS,WAAD,CAAL,CAAmBR,IAAnB,CAAyBC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAAtC,EAAuDF,IAAvD,CAA6DG,IAAD,IAAU;AAClE,WAAKvB,QAAL,CAAc;AAAE6B,QAAAA,UAAU,EAAEN,IAAI,CAACO;AAAnB,OAAd;AACH,KAFD;AAGA,SAAKrB,WAAL,CAAiB,CAAjB;AACA,SAAKT,QAAL,CAAc;AAAED,MAAAA,SAAS,EAAE;AAAb,KAAd;AACH;;AA8EDkC,EAAAA,MAAM,GAAG;AACL,QAAIC,YAAJ;AACA,QAAIC,WAAJ;AACA,QAAIC,SAAJ;;AACA,QAAI,KAAKpD,KAAL,CAAWqD,MAAX,KAAsB,KAAKrD,KAAL,CAAWkC,QAArC,EAA+C;AAC3C,UAAI,KAAKpB,KAAL,CAAWO,OAAf,EAAwB;AACpB6B,QAAAA,YAAY,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAf;AACH,OAFD,MAGK;AACDA,QAAAA,YAAY,gBAAG;AAAQ,UAAA,OAAO,EAAE,KAAKlB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAoC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAApC,8BAAf;AACH;;AACDoB,MAAAA,SAAS,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAQ,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR,qBAAZ;AACH;;AACD,QAAI,KAAKtC,KAAL,CAAWR,OAAf,EAAwB;AACpB6C,MAAAA,WAAW,gBACP;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,IAAf;AAAoB,QAAA,OAAO,EAAE,KAAKtB,oBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwD,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxD,CADJ,eAEI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAE,KAAKf,KAAL,CAAWgB,OAArC;AAA8C,QAAA,aAAa,EAAC,UAA5D;AAAuE,QAAA,SAAS,EAAC,eAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,OAAO,EAAE,KAAKC,eAAnB;AAAoC,QAAA,GAAG,EAAE,KAAKjB,KAAL,CAAWG,UAApD;AAAgE,QAAA,SAAS,EAAC,UAA1E;AAAqF,QAAA,GAAG,EAAC,OAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAK,QAAA,OAAO,EAAE,KAAKc,eAAnB;AAAoC,QAAA,GAAG,EAAE5B,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,oBAAzB,GAAgD,KAAKS,KAAL,CAAWK,OAApG;AAA6G,QAAA,SAAS,EAAC,UAAvH;AAAkI,QAAA,GAAG,EAAC,MAAtI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,CADJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKL,KAAL,CAAWI,IAAf,CAPJ,CADJ,CADJ,CAFJ,eAeI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBkC,SAAtB,CADJ,CAfJ,eAkBI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsBF,YAAtB,CADJ,CAlBJ,CADJ,CADJ;AAyBH;;AACD,wBACI;AAAK,MAAA,SAAS,EAAE,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,WADL,eAEI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKnD,KAAL,CAAWkC,QAAhB,kBAAxB,CAFJ,eAGI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiB,KAAKpB,KAAL,CAAW+B,UAA5B,CAAvB,CAHJ,eAII;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAA+B,MAAA,OAAO,EAAE,KAAKlB,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,OAAlB;AAA0B,MAAA,QAAQ,EAAC,OAAnC;AAA2C,MAAA,OAAO,EAAE,KAAKC,kBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKd,KAAL,CAAWS,WAAlB,CAHJ,eAII,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,OAAlB;AAA0B,MAAA,QAAQ,EAAC,OAAnC;AAA2C,MAAA,OAAO,EAAE,KAAKG,cAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,OAAnB;AAA2B,MAAA,OAAO,EAAE,KAAKJ,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAJJ,eAWI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKf,YAAL,CAAkB,KAAKO,KAAL,CAAWN,UAA7B,CADL,CAXJ,eAcI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,WAAnB;AAA+B,MAAA,OAAO,EAAE,KAAKmB,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,OAAlB;AAA0B,MAAA,QAAQ,EAAC,OAAnC;AAA2C,MAAA,OAAO,EAAE,KAAKC,kBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKd,KAAL,CAAWS,WAAlB,CAHJ,eAII,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,OAAlB;AAA0B,MAAA,QAAQ,EAAC,OAAnC;AAA2C,MAAA,OAAO,EAAE,KAAKG,cAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAKI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,OAAnB;AAA2B,MAAA,OAAO,EAAE,KAAKJ,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAdJ,CADJ;AAyBH;;AA9KkC;;AA+KtC;AAED,eAAexB,cAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Image from './Image';\r\nimport './CollectionPage.css';\r\nimport Larrow from '@material-ui/icons/ArrowLeft';\r\nimport Rarrow from '@material-ui/icons/ArrowRight';\r\nimport LLarrow from '@material-ui/icons/ArrowBackIos';\r\nimport RRarrow from '@material-ui/icons/ArrowForwardIos';\r\nimport BackDrop from '../Backdrop/Backdrop';\r\nimport ReactCardFlip from 'react-card-flip';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\n\r\nclass CollectionPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            collection: [[\"placeholder.png\", \"This is a placeholder\", 0]],\r\n            currentpage: 1,\r\n            pages: 1,\r\n            totalcards: 0,\r\n            display: false,\r\n            displayimg: null,\r\n            name: null,\r\n            isMounted: false,\r\n            flipped: false,\r\n            picture: null,\r\n            id: null,\r\n            removed: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const pageapiUrl = 'http://localhost:5000/pages/?username=' + this.props.username\r\n\r\n        fetch(pageapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({ pages: data.pages });\r\n        })\r\n        const cardsapiUrl = 'http://localhost:5000/gettotalcards/?username=' + this.props.username\r\n        fetch(cardsapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({ totalcards: data.total });\r\n        })\r\n        this.updateCards(1)\r\n        this.setState({ isMounted: true })\r\n    }\r\n\r\n    createImage = (image) => {\r\n        return <Image source={process.env.PUBLIC_URL + '/CardImages/Fronts/' + image[0]} key={image[2]} name={image[1]} display={this.display} pic={image[0]} id={image[2]} />;\r\n    }\r\n\r\n    createImages = (collection) => {\r\n        return collection.map(this.createImage);\r\n    }\r\n    display = (source, cardtext, pic, index) => {\r\n        if (this.state.isMounted) {\r\n            this.setState({ display: true })\r\n            this.setState({ displayimg: source })\r\n            this.setState({ name: cardtext })\r\n            this.setState({ picture: pic })\r\n            this.setState({ id: index })\r\n            this.setState({ removed: false })\r\n        }\r\n    }\r\n    handleLastPage = () => {\r\n        if (this.state.currentpage < this.state.pages) {\r\n            this.setState({ currentpage: this.state.pages })\r\n            this.updateCards(this.state.pages)\r\n        }\r\n    }\r\n    handleNextPage = () => {\r\n        if (this.state.currentpage < this.state.pages) {\r\n            this.setState({ currentpage: this.state.currentpage + 1 })\r\n            this.updateCards(this.state.currentpage + 1)\r\n        }\r\n    }\r\n    handleFirstPage = () => {\r\n        if (this.state.currentpage > 1) {\r\n            this.setState({ currentpage: 1 })\r\n            this.updateCards(1)\r\n        }\r\n    }\r\n    handlePreviousPage = () => {\r\n        if (this.state.currentpage > 1) {\r\n            this.setState({ currentpage: this.state.currentpage - 1 })\r\n            this.updateCards(this.state.currentpage - 1)\r\n        }\r\n    }\r\n    backdropClickHandler = () => {\r\n        this.setState({ display: false })\r\n        this.setState({ flipped: false })\r\n        this.setState({ removed: false })\r\n    }\r\n    handleCardClick = () => {\r\n        this.setState({ flipped: !this.state.flipped })\r\n    }\r\n    handleRemove = () => {\r\n        const removeapiUrl = 'http://localhost:5000/removecard/?username=' + this.props.username + '&index=' + this.state.id\r\n        this.setState({removed: true})\r\n        fetch(removeapiUrl).then((response) => response.json()).then((data) => {\r\n            this.updateCardtotal();\r\n            this.updatePagetotal();\r\n            this.updateCards(this.state.currentpage);\r\n        })\r\n    }\r\n    updateCards = (page) => {\r\n        const cardapiUrl = 'http://localhost:5000/getpage/?username=' + this.props.username + '&page=' + page\r\n        fetch(cardapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({ collection: data.collection })\r\n        })\r\n    }\r\n    updateCardtotal = () => {\r\n        const cardsapiUrl = 'http://localhost:5000/gettotalcards/?username=' + this.props.username\r\n        fetch(cardsapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({ totalcards: data.total });\r\n        })\r\n    }\r\n    updatePagetotal = () => {\r\n        const pageapiUrl = 'http://localhost:5000/pages/?username=' + this.props.username\r\n        fetch(pageapiUrl).then((response) => response.json()).then((data) => {\r\n            this.setState({ pages: data.pages });\r\n        })\r\n    }\r\n    render() {\r\n        let removebutton;\r\n        let displaycard;\r\n        let favbutton;\r\n        if (this.props.myuser === this.props.username) {\r\n            if (this.state.removed) {\r\n                removebutton = <button>Removed</button>\r\n            }\r\n            else {\r\n                removebutton = <button onClick={this.handleRemove}><CancelIcon />   Remove from collection</button>\r\n            }\r\n            favbutton = <button><StarBorderIcon />   Make favorite</button>\r\n        }\r\n        if (this.state.display) {\r\n            displaycard =\r\n                <div className=\"display_box\" >\r\n                    <div className=\"display_\">\r\n                        <div className=\"bd\" onClick={this.backdropClickHandler}><BackDrop /></div>\r\n                        <div className=\"goldborder\">\r\n                            <div className=\"card_lattice\">\r\n                                <div className=\"card_box\">\r\n                                    <div className=\"card_flip\">\r\n                                        <ReactCardFlip isFlipped={this.state.flipped} flipDirection=\"vertical\" className=\"card_flip_obj\">\r\n                                            <img onClick={this.handleCardClick} src={this.state.displayimg} className=\"card_img\" alt=\"front\" />\r\n                                            <img onClick={this.handleCardClick} src={process.env.PUBLIC_URL + '/CardImages/Backs/' + this.state.picture} className=\"card_img\" alt=\"back\" />\r\n                                        </ReactCardFlip>\r\n                                    </div>\r\n                                    <p>{this.state.name}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"buttondiv\">\r\n                            <div className=\"b1c\">{favbutton}</div>\r\n                        </div>\r\n                        <div className=\"buttondiv\">\r\n                            <div className=\"b2c\">{removebutton}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        }\r\n        return (\r\n            <div className =\"collection_background\">\r\n                {displaycard}\r\n                <div className=\"header\"><h6>{this.props.username}'s Collection</h6></div>\r\n                <div className=\"total\"><p>Total cards: {this.state.totalcards}</p></div>\r\n                <div className=\"nav_style\">\r\n                    <LLarrow className=\"outerleft\" onClick={this.handleFirstPage} />\r\n                    <Larrow className=\"inner\" fontSize=\"large\" onClick={this.handlePreviousPage} />\r\n                    <span>{this.state.currentpage}</span>\r\n                    <Rarrow className=\"inner\" fontSize=\"large\" onClick={this.handleNextPage} />\r\n                    <RRarrow className=\"outer\" onClick={this.handleLastPage} />\r\n                </div>\r\n                <div className=\"imageblock\">\r\n                    {this.createImages(this.state.collection)}\r\n                </div>\r\n                <div className=\"nav_style_bottom\">\r\n                    <LLarrow className=\"outerleft\" onClick={this.handleFirstPage} />\r\n                    <Larrow className=\"inner\" fontSize=\"large\" onClick={this.handlePreviousPage} />\r\n                    <span>{this.state.currentpage}</span>\r\n                    <Rarrow className=\"inner\" fontSize=\"large\" onClick={this.handleNextPage} />\r\n                    <RRarrow className=\"outer\" onClick={this.handleLastPage} />\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nexport default CollectionPage;"]},"metadata":{},"sourceType":"module"}